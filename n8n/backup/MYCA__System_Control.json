{
    "updatedAt":  "2025-12-20T07:28:10.487Z",
    "createdAt":  "2025-12-20T07:28:10.487Z",
    "id":  "tBrHvywnTg1ptmXB",
    "name":  "MYCA: System Control",
    "description":  null,
    "active":  false,
    "isArchived":  false,
    "nodes":  [
                  {
                      "parameters":  {
                                         "httpMethod":  "POST",
                                         "path":  "myca/system",
                                         "responseMode":  "responseNode",
                                         "options":  {

                                                     }
                                     },
                      "id":  "webhook-system",
                      "name":  "System Webhook",
                      "type":  "n8n-nodes-base.webhook",
                      "typeVersion":  2,
                      "position":  [
                                       100,
                                       400
                                   ]
                  },
                  {
                      "parameters":  {
                                         "jsCode":  "// Parse system control request\nconst input = $input.first().json;\n\nconst action = input.action || \u0027status\u0027;\nconst message = input.message || \u0027\u0027;\nconst sessionId = input.session_id || `sys_${Date.now()}`;\n\n// Determine target system\nlet targetSystem = \u0027general\u0027;\nif (/proxmox|vm|virtual|container|lxc/i.test(message)) targetSystem = \u0027proxmox\u0027;\nelse if (/unifi|network|wifi|switch|router|firewall|vlan/i.test(message)) targetSystem = \u0027unifi\u0027;\nelse if (/nas|storage|backup|synology|truenas|share|smb|nfs/i.test(message)) targetSystem = \u0027nas\u0027;\nelse if (/docker|container|compose/i.test(message)) targetSystem = \u0027docker\u0027;\nelse if (/gpu|cuda|nvidia|training|job/i.test(message)) targetSystem = \u0027gpu\u0027;\nelse if (/mycobrain|iot|sensor|device/i.test(message)) targetSystem = \u0027mycobrain\u0027;\nelse if (/database|postgres|redis|mongo/i.test(message)) targetSystem = \u0027database\u0027;\n\n// Determine operation type\nlet operation = \u0027status\u0027;\nif (/start|boot|power.*on|enable/i.test(message)) operation = \u0027start\u0027;\nelse if (/stop|shutdown|power.*off|disable/i.test(message)) operation = \u0027stop\u0027;\nelse if (/restart|reboot|reload/i.test(message)) operation = \u0027restart\u0027;\nelse if (/create|new|provision|deploy/i.test(message)) operation = \u0027create\u0027;\nelse if (/delete|destroy|remove|terminate/i.test(message)) operation = \u0027delete\u0027;\nelse if (/list|show|get|info/i.test(message)) operation = \u0027list\u0027;\nelse if (/status|health|check/i.test(message)) operation = \u0027status\u0027;\nelse if (/update|upgrade|patch/i.test(message)) operation = \u0027update\u0027;\nelse if (/config|configure|settings/i.test(message)) operation = \u0027config\u0027;\n\n// Check if dangerous operation\nconst isDangerous = /delete|destroy|shutdown|reboot|terminate|wipe/i.test(message);\n\nreturn {\n  json: {\n    action: action,\n    target_system: targetSystem,\n    operation: operation,\n    message: message,\n    session_id: sessionId,\n    requires_confirmation: isDangerous,\n    timestamp: new Date().toISOString()\n  }\n};"
                                     },
                      "id":  "parse-system",
                      "name":  "Parse System Request",
                      "type":  "n8n-nodes-base.code",
                      "typeVersion":  2,
                      "position":  [
                                       320,
                                       400
                                   ]
                  },
                  {
                      "parameters":  {
                                         "conditions":  {
                                                            "options":  {
                                                                            "caseSensitive":  false,
                                                                            "leftValue":  "",
                                                                            "typeValidation":  "loose"
                                                                        },
                                                            "conditions":  [
                                                                               {
                                                                                   "id":  "proxmox",
                                                                                   "leftValue":  "={{ $json.target_system }}",
                                                                                   "rightValue":  "proxmox",
                                                                                   "operator":  {
                                                                                                    "type":  "string",
                                                                                                    "operation":  "equals"
                                                                                                }
                                                                               },
                                                                               {
                                                                                   "id":  "unifi",
                                                                                   "leftValue":  "={{ $json.target_system }}",
                                                                                   "rightValue":  "unifi",
                                                                                   "operator":  {
                                                                                                    "type":  "string",
                                                                                                    "operation":  "equals"
                                                                                                }
                                                                               },
                                                                               {
                                                                                   "id":  "nas",
                                                                                   "leftValue":  "={{ $json.target_system }}",
                                                                                   "rightValue":  "nas",
                                                                                   "operator":  {
                                                                                                    "type":  "string",
                                                                                                    "operation":  "equals"
                                                                                                }
                                                                               },
                                                                               {
                                                                                   "id":  "docker",
                                                                                   "leftValue":  "={{ $json.target_system }}",
                                                                                   "rightValue":  "docker",
                                                                                   "operator":  {
                                                                                                    "type":  "string",
                                                                                                    "operation":  "equals"
                                                                                                }
                                                                               },
                                                                               {
                                                                                   "id":  "gpu",
                                                                                   "leftValue":  "={{ $json.target_system }}",
                                                                                   "rightValue":  "gpu",
                                                                                   "operator":  {
                                                                                                    "type":  "string",
                                                                                                    "operation":  "equals"
                                                                                                }
                                                                               },
                                                                               {
                                                                                   "id":  "database",
                                                                                   "leftValue":  "={{ $json.target_system }}",
                                                                                   "rightValue":  "database",
                                                                                   "operator":  {
                                                                                                    "type":  "string",
                                                                                                    "operation":  "equals"
                                                                                                }
                                                                               }
                                                                           ],
                                                            "combinator":  "or"
                                                        }
                                     },
                      "id":  "system-router",
                      "name":  "System Router",
                      "type":  "n8n-nodes-base.switch",
                      "typeVersion":  3,
                      "position":  [
                                       540,
                                       400
                                   ]
                  },
                  {
                      "parameters":  {
                                         "jsCode":  "// Proxmox VE Control\nconst input = $input.first().json;\nconst operation = input.operation;\nconst message = input.message;\n\n// Extract VM/container identifiers\nconst vmMatch = message.match(/(?:vm|container|lxc)[\\s-]*(\\d+)/i);\nconst vmId = vmMatch ? vmMatch[1] : null;\n\n// Proxmox API endpoints (placeholder - configure with actual API)\nconst proxmoxConfig = {\n  host: process.env.PROXMOX_HOST || \u0027proxmox.local\u0027,\n  port: 8006,\n  node: process.env.PROXMOX_NODE || \u0027pve\u0027\n};\n\nconst apiEndpoints = {\n  list: `/api2/json/nodes/${proxmoxConfig.node}/qemu`,\n  status: vmId ? `/api2/json/nodes/${proxmoxConfig.node}/qemu/${vmId}/status/current` : null,\n  start: vmId ? `/api2/json/nodes/${proxmoxConfig.node}/qemu/${vmId}/status/start` : null,\n  stop: vmId ? `/api2/json/nodes/${proxmoxConfig.node}/qemu/${vmId}/status/stop` : null,\n  restart: vmId ? `/api2/json/nodes/${proxmoxConfig.node}/qemu/${vmId}/status/reboot` : null\n};\n\nlet result = \u0027\u0027;\nif (operation === \u0027list\u0027) {\n  result = \u0027To list VMs, configure Proxmox API credentials and HTTP Request node.\u0027;\n} else if (vmId) {\n  result = `Proxmox ${operation} command for VM ${vmId}. Configure API credentials to execute.`;\n} else {\n  result = \u0027Specify a VM ID (e.g., \"status of VM 100\") for Proxmox operations.\u0027;\n}\n\nreturn {\n  json: {\n    system: \u0027proxmox\u0027,\n    operation: operation,\n    vm_id: vmId,\n    endpoint: apiEndpoints[operation],\n    result: result,\n    config_required: \u0027Add PROXMOX_HOST, PROXMOX_USER, PROXMOX_TOKEN to environment\u0027,\n    api_docs: \u0027https://pve.proxmox.com/pve-docs/api-viewer/\u0027\n  }\n};"
                                     },
                      "id":  "proxmox",
                      "name":  "Proxmox",
                      "type":  "n8n-nodes-base.code",
                      "typeVersion":  2,
                      "position":  [
                                       780,
                                       100
                                   ]
                  },
                  {
                      "parameters":  {
                                         "jsCode":  "// UniFi Network Control\nconst input = $input.first().json;\nconst operation = input.operation;\nconst message = input.message;\n\n// Extract device/client identifiers\nconst deviceMatch = message.match(/(?:device|client|ap|switch)[\\s:]+([\\w\\-]+)/i);\nconst deviceId = deviceMatch ? deviceMatch[1] : null;\n\n// UniFi API endpoints\nconst unifiConfig = {\n  controller: process.env.UNIFI_HOST || \u0027unifi.local\u0027,\n  port: 8443,\n  site: process.env.UNIFI_SITE || \u0027default\u0027\n};\n\nconst apiEndpoints = {\n  list_clients: `/api/s/${unifiConfig.site}/stat/sta`,\n  list_devices: `/api/s/${unifiConfig.site}/stat/device`,\n  health: `/api/s/${unifiConfig.site}/stat/health`,\n  alerts: `/api/s/${unifiConfig.site}/stat/alarm`\n};\n\nlet result = \u0027\u0027;\nif (operation === \u0027status\u0027 || operation === \u0027list\u0027) {\n  result = \u0027UniFi network status. Configure UniFi credentials for live data.\u0027;\n} else {\n  result = `UniFi ${operation} command received. Configure API credentials to execute.`;\n}\n\nreturn {\n  json: {\n    system: \u0027unifi\u0027,\n    operation: operation,\n    device_id: deviceId,\n    endpoint: apiEndpoints[operation] || apiEndpoints.health,\n    result: result,\n    config_required: \u0027Add UNIFI_HOST, UNIFI_USER, UNIFI_PASSWORD to environment\u0027,\n    api_docs: \u0027https://ubntwiki.com/products/software/unifi-controller/api\u0027\n  }\n};"
                                     },
                      "id":  "unifi",
                      "name":  "UniFi",
                      "type":  "n8n-nodes-base.code",
                      "typeVersion":  2,
                      "position":  [
                                       780,
                                       240
                                   ]
                  },
                  {
                      "parameters":  {
                                         "jsCode":  "// NAS Storage Control (Synology/TrueNAS)\nconst input = $input.first().json;\nconst operation = input.operation;\nconst message = input.message;\n\n// Extract share/volume names\nconst shareMatch = message.match(/(?:share|volume|folder)[\\s:]+([\\w\\-\\/]+)/i);\nconst shareName = shareMatch ? shareMatch[1] : null;\n\nconst nasConfig = {\n  type: process.env.NAS_TYPE || \u0027synology\u0027, // synology, truenas\n  host: process.env.NAS_HOST || \u0027nas.local\u0027,\n  port: 5001\n};\n\nlet result = \u0027\u0027;\nif (operation === \u0027status\u0027) {\n  result = \u0027NAS storage status. Configure NAS API credentials for live data.\u0027;\n} else if (operation === \u0027list\u0027) {\n  result = \u0027List NAS shares/volumes. Configure API credentials.\u0027;\n} else {\n  result = `NAS ${operation} command for ${shareName || \u0027storage\u0027}. Configure API credentials.`;\n}\n\nreturn {\n  json: {\n    system: \u0027nas\u0027,\n    operation: operation,\n    share: shareName,\n    result: result,\n    config_required: \u0027Add NAS_HOST, NAS_USER, NAS_PASSWORD to environment\u0027,\n    supported_nas: [\u0027Synology DSM API\u0027, \u0027TrueNAS API\u0027, \u0027Generic SMB/NFS\u0027]\n  }\n};"
                                     },
                      "id":  "nas",
                      "name":  "NAS",
                      "type":  "n8n-nodes-base.code",
                      "typeVersion":  2,
                      "position":  [
                                       780,
                                       380
                                   ]
                  },
                  {
                      "parameters":  {
                                         "jsCode":  "// Docker Container Management\nconst input = $input.first().json;\nconst operation = input.operation;\nconst message = input.message;\n\n// Extract container name\nconst containerMatch = message.match(/(?:container|service)[\\s:]+([\\w\\-]+)/i);\nconst containerName = containerMatch ? containerMatch[1] : null;\n\nlet result = \u0027\u0027;\nif (operation === \u0027list\u0027) {\n  result = \u0027List Docker containers. Use SSH node or Docker API.\u0027;\n} else if (containerName) {\n  result = `Docker ${operation} for container \"${containerName}\". Configure Docker access.`;\n} else {\n  result = \u0027Specify a container name for Docker operations.\u0027;\n}\n\nreturn {\n  json: {\n    system: \u0027docker\u0027,\n    operation: operation,\n    container: containerName,\n    result: result,\n    commands: {\n      list: \u0027docker ps -a\u0027,\n      start: containerName ? `docker start ${containerName}` : null,\n      stop: containerName ? `docker stop ${containerName}` : null,\n      restart: containerName ? `docker restart ${containerName}` : null,\n      logs: containerName ? `docker logs --tail 100 ${containerName}` : null\n    }\n  }\n};"
                                     },
                      "id":  "docker",
                      "name":  "Docker",
                      "type":  "n8n-nodes-base.code",
                      "typeVersion":  2,
                      "position":  [
                                       780,
                                       520
                                   ]
                  },
                  {
                      "parameters":  {
                                         "jsCode":  "// GPU/CUDA Job Management\nconst input = $input.first().json;\nconst operation = input.operation;\nconst message = input.message;\n\nlet result = \u0027\u0027;\nif (operation === \u0027status\u0027) {\n  result = \u0027GPU status check. Run nvidia-smi via SSH for details.\u0027;\n} else if (operation === \u0027list\u0027) {\n  result = \u0027List GPU jobs. Configure job scheduler integration.\u0027;\n} else {\n  result = `GPU ${operation} command. Configure SSH access to GPU server.`;\n}\n\nreturn {\n  json: {\n    system: \u0027gpu\u0027,\n    operation: operation,\n    result: result,\n    commands: {\n      status: \u0027nvidia-smi\u0027,\n      processes: \u0027nvidia-smi --query-compute-apps=pid,name,used_memory --format=csv\u0027,\n      utilization: \u0027nvidia-smi --query-gpu=utilization.gpu,utilization.memory,memory.used,memory.total --format=csv\u0027\n    }\n  }\n};"
                                     },
                      "id":  "gpu",
                      "name":  "GPU",
                      "type":  "n8n-nodes-base.code",
                      "typeVersion":  2,
                      "position":  [
                                       780,
                                       660
                                   ]
                  },
                  {
                      "parameters":  {
                                         "jsCode":  "// Database Management\nconst input = $input.first().json;\nconst operation = input.operation;\nconst message = input.message;\n\n// Determine database type\nlet dbType = \u0027postgres\u0027;\nif (/redis/i.test(message)) dbType = \u0027redis\u0027;\nelse if (/mongo/i.test(message)) dbType = \u0027mongodb\u0027;\nelse if (/mysql|mariadb/i.test(message)) dbType = \u0027mysql\u0027;\n\nlet result = \u0027\u0027;\nif (operation === \u0027status\u0027) {\n  result = `${dbType} database status. Configure database credentials in n8n.`;\n} else {\n  result = `Database ${operation} for ${dbType}. Use n8n database nodes.`;\n}\n\nreturn {\n  json: {\n    system: \u0027database\u0027,\n    db_type: dbType,\n    operation: operation,\n    result: result,\n    n8n_nodes: [\u0027Postgres\u0027, \u0027MySQL\u0027, \u0027MongoDB\u0027, \u0027Redis\u0027]\n  }\n};"
                                     },
                      "id":  "database",
                      "name":  "Database",
                      "type":  "n8n-nodes-base.code",
                      "typeVersion":  2,
                      "position":  [
                                       780,
                                       800
                                   ]
                  },
                  {
                      "parameters":  {
                                         "jsCode":  "// General system status\nconst input = $input.first().json;\n\nreturn {\n  json: {\n    system: \u0027general\u0027,\n    operation: input.operation,\n    result: `System ${input.operation} request for ${input.target_system}. Configure specific integrations.`,\n    available_systems: [\u0027proxmox\u0027, \u0027unifi\u0027, \u0027nas\u0027, \u0027docker\u0027, \u0027gpu\u0027, \u0027database\u0027, \u0027mycobrain\u0027]\n  }\n};"
                                     },
                      "id":  "general",
                      "name":  "General",
                      "type":  "n8n-nodes-base.code",
                      "typeVersion":  2,
                      "position":  [
                                       780,
                                       940
                                   ]
                  },
                  {
                      "parameters":  {
                                         "jsCode":  "// Format system response\nconst input = $input.first().json;\n\nreturn {\n  json: {\n    status: \u0027success\u0027,\n    system: input.system,\n    operation: input.operation,\n    result: input.result,\n    data: input,\n    timestamp: new Date().toISOString()\n  }\n};"
                                     },
                      "id":  "format-response",
                      "name":  "Format Response",
                      "type":  "n8n-nodes-base.code",
                      "typeVersion":  2,
                      "position":  [
                                       1000,
                                       400
                                   ]
                  },
                  {
                      "parameters":  {
                                         "respondWith":  "json",
                                         "responseBody":  "={{ $json }}",
                                         "options":  {

                                                     }
                                     },
                      "id":  "respond",
                      "name":  "Respond",
                      "type":  "n8n-nodes-base.respondToWebhook",
                      "typeVersion":  1.1,
                      "position":  [
                                       1220,
                                       400
                                   ]
                  }
              ],
    "connections":  {
                        "System Webhook":  {
                                               "main":  [
                                                            [
                                                                {
                                                                    "node":  "Parse System Request",
                                                                    "type":  "main",
                                                                    "index":  0
                                                                }
                                                            ]
                                                        ]
                                           },
                        "Parse System Request":  {
                                                     "main":  [
                                                                  [
                                                                      {
                                                                          "node":  "System Router",
                                                                          "type":  "main",
                                                                          "index":  0
                                                                      }
                                                                  ]
                                                              ]
                                                 },
                        "System Router":  {
                                              "main":  [
                                                           [
                                                               {
                                                                   "node":  "Proxmox",
                                                                   "type":  "main",
                                                                   "index":  0
                                                               }
                                                           ],
                                                           [
                                                               {
                                                                   "node":  "UniFi",
                                                                   "type":  "main",
                                                                   "index":  0
                                                               }
                                                           ],
                                                           [
                                                               {
                                                                   "node":  "NAS",
                                                                   "type":  "main",
                                                                   "index":  0
                                                               }
                                                           ],
                                                           [
                                                               {
                                                                   "node":  "Docker",
                                                                   "type":  "main",
                                                                   "index":  0
                                                               }
                                                           ],
                                                           [
                                                               {
                                                                   "node":  "GPU",
                                                                   "type":  "main",
                                                                   "index":  0
                                                               }
                                                           ],
                                                           [
                                                               {
                                                                   "node":  "Database",
                                                                   "type":  "main",
                                                                   "index":  0
                                                               }
                                                           ],
                                                           [
                                                               {
                                                                   "node":  "General",
                                                                   "type":  "main",
                                                                   "index":  0
                                                               }
                                                           ]
                                                       ]
                                          },
                        "Proxmox":  {
                                        "main":  [
                                                     [
                                                         {
                                                             "node":  "Format Response",
                                                             "type":  "main",
                                                             "index":  0
                                                         }
                                                     ]
                                                 ]
                                    },
                        "UniFi":  {
                                      "main":  [
                                                   [
                                                       {
                                                           "node":  "Format Response",
                                                           "type":  "main",
                                                           "index":  0
                                                       }
                                                   ]
                                               ]
                                  },
                        "NAS":  {
                                    "main":  [
                                                 [
                                                     {
                                                         "node":  "Format Response",
                                                         "type":  "main",
                                                         "index":  0
                                                     }
                                                 ]
                                             ]
                                },
                        "Docker":  {
                                       "main":  [
                                                    [
                                                        {
                                                            "node":  "Format Response",
                                                            "type":  "main",
                                                            "index":  0
                                                        }
                                                    ]
                                                ]
                                   },
                        "GPU":  {
                                    "main":  [
                                                 [
                                                     {
                                                         "node":  "Format Response",
                                                         "type":  "main",
                                                         "index":  0
                                                     }
                                                 ]
                                             ]
                                },
                        "Database":  {
                                         "main":  [
                                                      [
                                                          {
                                                              "node":  "Format Response",
                                                              "type":  "main",
                                                              "index":  0
                                                          }
                                                      ]
                                                  ]
                                     },
                        "General":  {
                                        "main":  [
                                                     [
                                                         {
                                                             "node":  "Format Response",
                                                             "type":  "main",
                                                             "index":  0
                                                         }
                                                     ]
                                                 ]
                                    },
                        "Format Response":  {
                                                "main":  [
                                                             [
                                                                 {
                                                                     "node":  "Respond",
                                                                     "type":  "main",
                                                                     "index":  0
                                                                 }
                                                             ]
                                                         ]
                                            }
                    },
    "settings":  {
                     "executionOrder":  "v1",
                     "callerPolicy":  "workflowsFromSameOwner",
                     "availableInMCP":  false
                 },
    "staticData":  null,
    "meta":  null,
    "pinData":  null,
    "versionId":  "3b71c963-c1af-4a96-a38d-b019b844246e",
    "activeVersionId":  null,
    "versionCounter":  1,
    "triggerCount":  0,
    "shared":  [
                   {
                       "updatedAt":  "2025-12-20T07:28:10.488Z",
                       "createdAt":  "2025-12-20T07:28:10.488Z",
                       "role":  "workflow:owner",
                       "workflowId":  "tBrHvywnTg1ptmXB",
                       "projectId":  "2vYHfUSw9PyoLiDh",
                       "project":  {
                                       "updatedAt":  "2025-12-20T07:26:10.218Z",
                                       "createdAt":  "2025-12-20T07:24:36.044Z",
                                       "id":  "2vYHfUSw9PyoLiDh",
                                       "name":  "Morgan Mycosoft \u003cmorgan@mycosoft.org\u003e",
                                       "type":  "personal",
                                       "icon":  null,
                                       "description":  null,
                                       "projectRelations":  [
                                                                {
                                                                    "updatedAt":  "2025-12-20T07:24:36.044Z",
                                                                    "createdAt":  "2025-12-20T07:24:36.044Z",
                                                                    "userId":  "22c64709-d230-4f0d-bd7a-db86b3d3cc34",
                                                                    "projectId":  "2vYHfUSw9PyoLiDh",
                                                                    "user":  {
                                                                                 "updatedAt":  "2025-12-20T07:30:13.000Z",
                                                                                 "createdAt":  "2025-12-20T07:24:35.720Z",
                                                                                 "id":  "22c64709-d230-4f0d-bd7a-db86b3d3cc34",
                                                                                 "email":  "morgan@mycosoft.org",
                                                                                 "firstName":  "Morgan",
                                                                                 "lastName":  "Mycosoft",
                                                                                 "personalizationAnswers":  {
                                                                                                                "version":  "v4",
                                                                                                                "personalization_survey_submitted_at":  "2025-12-20T07:26:31.298Z",
                                                                                                                "personalization_survey_n8n_version":  "2.0.2",
                                                                                                                "companySize":  "\u003c20",
                                                                                                                "companyType":  "saas",
                                                                                                                "role":  "business-owner",
                                                                                                                "reportedSource":  "friend"
                                                                                                            },
                                                                                 "settings":  {
                                                                                                  "userActivated":  false
                                                                                              },
                                                                                 "disabled":  false,
                                                                                 "mfaEnabled":  false,
                                                                                 "lastActiveAt":  "2025-12-20",
                                                                                 "isPending":  false
                                                                             }
                                                                }
                                                            ]
                                   }
                   }
               ],
    "tags":  [

             ],
    "activeVersion":  null
}
